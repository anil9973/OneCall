:host {
	color-scheme: light;
	interpolate-size: allow-keywords;
	--main-clr: rgb(135, 18, 245);
	--border: 1.6px solid #ccc;
	--icon-clr: hsl(0, 0%, 5%);
	--card: 0 1px 4px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
	--neu-pressed: inset 5px 5px 10px #b8b9be, inset -5px -5px 10px #ffffff;

	/* Modern Palette (light-dark) */
	--bg-glass: light-dark(rgba(255, 255, 255, 0.65), rgba(20, 20, 20, 0.65));
	--border-glass: light-dark(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.1));
	--shadow-glass: light-dark(0 8px 32px rgba(0, 0, 0, 0.1), 0 8px 32px rgba(0, 0, 0, 0.4));

	--primary: #6366f1; /* Indigo */
	--primary-glow: rgba(99, 102, 241, 0.5);
	--danger: #ef4444;
	--success: #22c55e;
	--text-main: light-dark(#1f2937, #f3f4f6);
	--text-muted: light-dark(#6b7280, #9ca3af);

	--ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* @media (prefers-color-scheme: dark) {
	:host {
		--border: 1.6px solid hsl(0, 0%, 48%);
		--popup-bgc: hsl(0, 0%, 22%);
		--icon-clr: white;
		--card: 0 1px 4px rgba(200, 200, 200, 0.2), 0 1px 2px rgba(200, 200, 200, 0.3);
	}
} */

* {
	box-sizing: border-box;
}

:host([popover]) {
	--top: 55%;
	--left: 75%;
	border: none;
	margin: 0;
	padding: 0;
	color: inherit;
	inset: unset;
	top: var(--top);
	left: var(--left);
}

:host {
	font-size: 16px;
	position: fixed;
	min-width: 300px;
	max-width: 360px;
	background-color: var(--bg-glass);
	backdrop-filter: blur(5px);
	border: 1px solid var(--border-glass);
	border-radius: 10px;
	box-shadow: var(--card);
	overflow: hidden;
}

section {
	display: flex;
	flex-direction: column;
	align-items: center;
	padding: 8px;
	row-gap: 0.5rem;
}

.narration-text {
	font-size: 0.9rem;
}

svg {
	height: 24px;
	width: 24px;
	vertical-align: middle;
	fill: var(--icon-clr);
	cursor: pointer;

	&.settings path {
		d: path(
			"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"
		);
	}

	&.close path {
		d: path(
			"M13.46,12L19,17.54V19H17.54L12,13.46L6.46,19H5V17.54L10.54,12L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46L13.46,12Z"
		);
	}

	&.chev-down path {
		d: path("M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z");
	}

	&.done path {
		d: path(
			"M0.41,13.41L6,19L7.41,17.58L1.83,12M22.24,5.58L11.66,16.17L7.5,12L6.07,13.41L11.66,19L23.66,7M18,7L16.59,5.58L10.24,11.93L11.66,13.34L18,7Z"
		);
	}

	&.mic path {
		d: path(
			"M7.5 11A2.5 2.5 0 0 0 10 8.5v-6a2.5 2.5 0 1 0-5 0v6A2.5 2.5 0 0 0 7.5 11M11 7v1.5a3.5 3.5 0 1 1-7 0V7H3v1.5a4.5 4.5 0 0 0 4 4.472V15H5v1h5v-1H8v-2.028A4.5 4.5 0 0 0 12 8.5V7z"
		);
	}

	&.mute path {
		d: path(
			"m10.809 11.516l3.337 3.338a.5.5 0 0 0 .708-.708l-13-13a.5.5 0 1 0-.708.708L5.5 6.207V8a2.5 2.5 0 0 0 3.879 2.086l.717.717A3.5 3.5 0 0 1 4.5 8a.5.5 0 1 0-1 0a4.5 4.5 0 0 0 4 4.473V13.5a.5.5 0 1 0 1 0v-1.027a4.5 4.5 0 0 0 2.309-.957M12.06 9.94l-.764-.764c.132-.367.203-.763.203-1.176a.5.5 0 0 1 1 0c0 .695-.157 1.353-.439 1.94m-1.586-1.586L5.682 3.56a2.5 2.5 0 0 1 4.818.94V8q0 .18-.025.354"
		);
	}

	&.unmute path {
		d: path(
			"M19,11C19,12.19 18.66,13.3 18.1,14.28L16.87,13.05C17.14,12.43 17.3,11.74 17.3,11H19M15,11.16L9,5.18V5A3,3 0 0,1 12,2A3,3 0 0,1 15,5V11L15,11.16M4.27,3L21,19.73L19.73,21L15.54,16.81C14.77,17.27 13.91,17.58 13,17.72V21H11V17.72C7.72,17.23 5,14.41 5,11H6.7C6.7,14 9.24,16.1 12,16.1C12.81,16.1 13.6,15.91 14.31,15.58L12.65,13.92L12,14A3,3 0 0,1 9,11V10.28L3,4.27L4.27,3Z"
		);
	}

	&.acting path {
		fill: yellow;
		d: path(
			"m 13.580214,1.8651366 c 0.245428,0 0.444495,-0.215568 0.444495,-0.4803788 V 0.62620966 c 0,-0.26533471 -0.199067,-0.48011693 -0.444495,-0.48011693 H 2.9443023 c -0.2456901,0 -0.4444947,0.21478222 -0.4444947,0.48011693 V 1.3847578 c 0,0.2648108 0.1988046,0.4801169 0.4444947,0.4801169 H 3.2201135 V 14.142823 H 2.9443023 c -0.2456901,0 -0.4444947,0.214782 -0.4444947,0.480116 v 0.758287 c 0,0.265335 0.1988046,0.480641 0.4444947,0.480641 H 13.579952 c 0.24569,0 0.444757,-0.215306 0.444757,-0.480641 v -0.758287 c 0,-0.265334 -0.199067,-0.480116 -0.444495,-0.480116 H 13.304402 V 1.8651366 Z M 3.7002311,14.143084 V 1.8651366 H 4.151797 c -0.1165585,0 -0.2113765,0.087746 -0.2113765,0.1961853 v 0.5893416 c 0,0.1084389 0.093767,0.1956613 0.2100672,0.1964471 v 2.619e-4 c 0,2.1711343 0.3478428,4.280977 2.8634142,5.0080935 l 0.1241544,0.03929 c 0.1087015,0.034574 0.2388801,0.075436 0.3054098,0.1092247 -0.066528,0.033265 -0.1951366,0.074126 -0.3033146,0.108177 l -0.1186537,0.03798 C 4.4985927,8.8798731 4.15075,10.989714 4.15075,13.160849 v 2.62e-4 c -0.116035,7.86e-4 -0.2100683,0.08801 -0.2100683,0.195923 v 0.589342 c 0,0.108438 0.094553,0.196708 0.2113776,0.196708 z M 9.2434467,8.5815345 9.3728395,8.6223968 C 11.155532,9.1378739 11.851478,10.310532 11.891815,12.915159 H 8.475993 C 8.4416826,11.703998 8.3557667,8.6108719 8.3557667,8.0039811 8.3557667,7.7983664 8.736089,7.509982 8.9110579,7.4070437 9.6494376,6.9709298 10.599193,6.1081339 10.599193,5.2102393 H 5.9247986 c 0,0.8978946 0.9497572,1.7606905 1.6881359,2.1968032 0.1744454,0.1032004 0.5552913,0.3913229 0.5552913,0.5969376 0,0.6228682 -0.085653,3.7031599 -0.1199641,4.9111779 H 4.6327004 C 4.6727769,10.311316 5.3695083,9.1381351 7.159011,8.6203006 L 7.2818561,8.5817957 C 7.6257697,8.4733566 7.9505617,8.3706804 7.9505617,8.0042411 c 0,-0.3669635 -0.32584,-0.4699017 -0.6713253,-0.5783405 L 7.1514151,7.3853025 C 5.3689838,6.8698251 4.6730371,5.6974282 4.6329616,3.0930625 H 11.89234 C 11.852,5.6974282 11.155532,6.8706108 9.366553,7.3876598 l -0.1197018,0.03798 C 8.9011047,7.534079 8.5744789,7.6370173 8.5744789,8.0042426 8.5739543,8.3704202 8.8992707,8.4730974 9.2434467,8.5815355 M 12.824023,14.143085 H 12.37298 c 0.116297,0 0.211116,-0.08827 0.211116,-0.196708 v -0.589342 c 0,-0.108176 -0.0943,-0.1954 -0.21033,-0.195923 v -2.62e-4 c 0,-2.171396 -0.347842,-4.2815005 -2.8634133,-5.0086173 L 9.3846267,8.1124195 C 9.2767111,8.0783684 9.1475805,8.0375082 9.0810497,8.0042427 9.1478439,7.9704537 9.2782827,7.9295925 9.3872453,7.8950181 L 9.5032804,7.8580858 C 12.025924,7.1288739 12.373766,5.0187692 12.373766,2.847373 v -2.619e-4 c 0.115773,-5.238e-4 0.21033,-0.087746 0.21033,-0.1964471 V 2.0613219 c 0,-0.1084388 -0.09455,-0.1961853 -0.211116,-0.1961853 h 0.451043 z"
		);
	}

	&.warn path {
		fill: yellow;
		d: path("M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z");
	}
}
